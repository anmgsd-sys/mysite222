<!doctype html>
<html lang="kk">
ย<head>
ย <meta charset="UTF-8">
ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย <title>ะฅะฐะฝะบำฉะป ะผะตะบัะตะฑั - ะะตัััััะบัะตั ะาฏะนะตัั | ะะฐััั าะฐะทะฐาััะฐะฝ ะพะฑะปััั</title>
ย <meta name="description" content="ะฅะฐะฝะบำฉะป ะถะฐะปะฟั ะพััะฐ ะฑัะปัะผ ะฑะตัะตััะฝ ะผะตะบัะตะฑัะฝัาฃ ะผาฑาะฐะปัะผะดะตั ะผะตะฝ ะพาัััะปะฐั ะถะตัััััะบัะตััะฝ ัััะบะตั ะถาฏะนะตัั. ะัะดะฐะฝะดัา, ะพะฑะปััััา, ัะตัะฟัะฑะปะธะบะฐะปัา ะถะฐััััะฐั ัะตะนัะธะฝะณั.">
ย <meta name="keywords" content="ะฅะฐะฝะบำฉะป ะผะตะบัะตะฑั, าะฐัะฐัำฉะฑะต ะฐัะดะฐะฝั, ะะฐััั าะฐะทะฐาััะฐะฝ, ะถะตัััััะบัะตั, ะพะปะธะผะฟะธะฐะดะฐ, ะถะฐััั, ัะตะนัะธะฝะณ, ะผาฑาะฐะปัะผะดะตั, ะพาัััะปะฐั, ะฑัะปัะผ">
ย <meta name="author" content="ะฅะฐะฝะบำฉะป ะถะฐะปะฟั ะพััะฐ ะฑัะปัะผ ะฑะตัะตััะฝ ะผะตะบัะตะฑั">
ย <meta name="robots" content="index, follow">
ย <meta property="og:title" content="ะฅะฐะฝะบำฉะป ะผะตะบัะตะฑั - ะะตัััััะบัะตั ะาฏะนะตัั">
ย <meta property="og:description" content="ะาฑาะฐะปัะผะดะตั ะผะตะฝ ะพาัััะปะฐัะดัาฃ ะถะตัััััะบัะตััะฝ ัััะบะตั ะถำะฝะต ัะตะนัะธะฝะณ ะถาฏะนะตัั">
ย <meta property="og:type" content="website">
ย <link rel="canonical" href="https://yourschool.edu.kz">
ย <link rel="preconnect" href="https://fonts.googleapis.com">
ย <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
ย <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;600;700&amp;display=swap" rel="stylesheet">
ย <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>

ย ย <style>
ย ย /* ะกะะะะาข ะะะกะขะะาะซ CSS ะะะะซาขะซะ (ำฉะทะณะตัััััะท าะฐะปะดัััะปะดั) */
    /* ... (าฑะทัะฝ CSS ะบะพะดัาฃัะท ะพัั ะถะตัะดะต) ... */
    
ย ย </style>
ย <style>@view-transition { navigation: auto; }</style>
ย</head>
ย<body>
ย <div class="app-container">ย ย<header class="header">
ย ย <div class="header-content">
ย ย ย<h1 id="siteTitle">๐ ะะตัััััะบัะตั ะถาฏะนะตัั</h1>
ย ย ย<p>ะาฑาะฐะปัะผะดะตั ะผะตะฝ ะพาัััะปะฐัะดัาฃ ะถะตัััััะบัะตััะฝ ัััะบะตั ะถำะฝะต ัะตะนัะธะฝะณ ะถาฏะนะตัั</p>
ย ย </div>
ย ย</header>ย ย<nav class="nav-tabs">
ย ย <div class="nav-tabs-content"><button class="tab-btn active" onclick="switchTab('home')"> <span class="tab-icon">๐ซ</span> <span>ะะฐััั ะฑะตั</span> </button> <button class="tab-btn" onclick="switchTab('teachers')"> <span class="tab-icon">๐จโ๐ซ</span> <span id="teacherTabTitle">ะาฑาะฐะปัะผะดะตั</span> </button> <button class="tab-btn" onclick="switchTab('students')"> <span class="tab-icon">๐จโ๐</span> <span id="studentTabTitle">ะาัััะปะฐั</span> </button> <button class="tab-btn" onclick="switchTab('rating')"> <span class="tab-icon">๐</span> <span>ะะตะนัะธะฝะณ</span> </button>
ย ย </div>
ย ย</nav>ย ย<main class="main-content">ย ย <div id="homeTab" class="tab-content active">
ย ย ย<div class="school-info-section">
ย ย ย <div class="school-header">
ย ย ย ย<div class="school-logo">
ย ย ย ย ๐ซ
ย ย ย ย</div>
ย ย ย ย<h1 class="school-name" id="schoolName">ะฅะฐะฝะบำฉะป ะถะฐะปะฟั ะพััะฐ ะฑัะปัะผ ะฑะตัะตััะฝ ะผะตะบัะตะฑั</h1>
ย ย ย ย<p class="school-tagline">ะัะปัะผ - ะฑะพะปะฐัะฐาาะฐ ะฑะฐััะฐะนััะฝ ะถะพะป</p>
ย ย ย </div>
ย ย ย <div class="school-details">
ย ย ย ย<div class="detail-card">
ย ย ย ย <div class="detail-icon">
ย ย ย ย ย๐
ย ย ย ย </div>
ย ย ย ย <p class="detail-label">ะะตะบะตะฝะถะฐะน</p>
ย ย ย ย <p class="detail-value" id="schoolAddress">ะะฐััั าะฐะทะฐาััะฐะฝ ะพะฑะปััั, าะฐัะฐัำฉะฑะต ะฐัะดะฐะฝั, ะััะฐะฝะดะพะน ะฐ.ะพ ะฅะฐะฝะบำฉะป ะฐััะปั, าาฑัะผะฐะฝาะฐะปะธะตะฒ 2ะ</p>
ย ย ย ย</div>
ย ย ย ย<div class="detail-card">
ย ย ย ย <div class="detail-icon">
ย ย ย ย ย๐
ย ย ย ย </div>
ย ย ย ย <p class="detail-label">ะะฐะนะปะฐะฝัั</p>
ย ย ย ย <p class="detail-value" id="schoolPhone">+7 (711-45)21-4-72</p>
ย ย ย ย</div>
ย ย ย ย<div class="detail-card">
ย ย ย ย <div class="detail-icon">
ย ย ย ย ยโ๏ธ
ย ย ย ย </div>
ย ย ย ย <p class="detail-label">ะญะปะตะบััะพะฝะดัา ะฟะพััะฐ</p>
ย ย ย ย <p class="detail-value"><a href="mailto:Hankul_sosh@mail.ru" style="color: #3182ce; text-decoration: none;">Hankul_sosh@mail.ru</a></p>
ย ย ย ย</div>
ย ย ย </div>
ย ย ย <div class="school-description">
ย ย ย ย<h3>ะะตะบัะตะฟ ัััะฐะปั</h3>
ย ย ย ย<p id="schoolDescription">ะัะทะดัาฃ ะผะตะบัะตะฟ 2023 ะถัะปั าาฑััะปาะฐะฝ. ะะตะบัะตะฟัะต ะถะพาะฐัั ะฑัะปัะบัั ะฟะตะดะฐะณะพะณัะฐั ะถาฑะผัั ัััะตะนะดั. ะาัััะปะฐััะผัะท าฏะฝะตะผั ะฐัะดะฐะฝะดัา ะถำะฝะต ะพะฑะปััััา ะพะปะธะผะฟะธะฐะดะฐะปะฐัะดะฐ ะถะตัััััะบัะตัะณะต ะถะตัะตะดั. ะะตะบัะตะฟ ะทะฐะผะฐะฝะฐัะธ ัะตัะฝะธะบะฐะปะฐัะผะตะฝ ะถะฐะฑะดัาัะฐะปาะฐะฝ, ัะฟะพัั ะทะฐะปะดะฐัั, ะบััะฐะฟัะฐะฝะฐ, ะบะพะผะฟัััะตัะปัะบ ััะฝัะฟัะฐั ะฑะฐั.</p>
ย ย ย </div>
ย ย ย <div class="quick-stats">
ย ย ย ย<div class="stat-box">
ย ย ย ย <p class="stat-number" id="teacherCount">0</p>
ย ย ย ย <p class="stat-label">ะาฑาะฐะปัะผะดะตั ะถะตัััััะณั</p>
ย ย ย ย</div>
ย ย ย ย<div class="stat-box">
ย ย ย ย <p class="stat-number" id="studentCount">0</p>
ย ย ย ย <p class="stat-label">ะาัััะปะฐั ะถะตัััััะณั</p>
ย ย ย ย</div>
ย ย ย ย<div class="stat-box">
ย ย ย ย <p class="stat-number" id="totalCount">0</p>
ย ย ย ย <p class="stat-label">ะะฐะปะฟั ะถะตัััััะบัะตั</p>
ย ย ย ย</div>
ย ย ย </div>
ย ย ย</div>
ย ย </div>ย ย <div id="teachersTab" class="tab-content">
ย ย ย<div class="limit-warning" id="teacherLimitWarning"><span class="limit-warning-icon">โ๏ธ</span> <span>ะัะบะตััั: ะะฐะบัะธะผะฐะปะดั 999 ะถะฐะทะฑะฐ ะปะธะผะธััะฝะต ะถะตัััาฃัะท. ะะฐาฃะฐ ะถะตัััััะบ าะพัั าฏััะฝ ะบะตะนะฑััะตัะปะตััะฝ ะถะพะนัาฃัะท.</span>
ย ย ย</div>
ย ย ย<div class="add-form-card">
ย ย ย <div class="form-header">
ย ย ย ย<h2>ะาฑาะฐะปัะผ ะถะตัััััะณัะฝ าะพัั</h2><button class="toggle-form-btn" onclick="toggleForm('teacher')"> <span id="teacherFormToggleText">+ ะะฐาฃะฐ ะถะตัััััะบ</span> </button>
ย ย ย </div>
ย ย ย <div class="form-content" id="teacherForm">
ย ย ย ย<form id="teacherAchievementForm" onsubmit="handleTeacherSubmit(event)">
ย ย ย ย <div class="form-grid">
ย ย ย ย ย<div class="form-group"><label for="teacherName">ะาฑาะฐะปัะผะฝัาฃ ะฐัั-ะถำฉะฝั *</label> <input type="text" id="teacherName" required placeholder="ะััะฐะปั: ะะนะณาฏะป ะกะตะนััะพะฒะฐ">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="teacherTitle">ะะตัััััะบ ะฐัะฐัั *</label> <input type="text" id="teacherTitle" required placeholder="ะััะฐะปั: าฎะทะดัะบ ะผาฑาะฐะปัะผ">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="teacherCategory">ะะฐัะตะณะพัะธั *</label> <select id="teacherCategory" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="academic">ะะบะฐะดะตะผะธัะปัา</option> <option value="sports">ะกะฟะพััััา</option> <option value="art">ำจะฝะตั</option> <option value="social">ำะปะตัะผะตัััะบ</option> <option value="other">ะะฐัาะฐ</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="teacherLevel">ะะฐััั ะดะตาฃะณะตะนั *</label> <select id="teacherLevel" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="district">ะัะดะฐะฝะดัา</option> <option value="regional">ะะฑะปััััา</option> <option value="national">ะะตัะฟัะฑะปะธะบะฐะปัา</option> <option value="international">ะฅะฐะปัาะฐัะฐะปัา</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="teacherPlace">ะะปาะฐะฝ ะพัะฝั *</label> <select id="teacherPlace" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="1">๐ฅ 1 ะพััะฝ</option> <option value="2">๐ฅ 2 ะพััะฝ</option> <option value="3">๐ฅ 3 ะพััะฝ</option> <option value="diploma">๐ ะัะฐะผะพัะฐ</option> <option value="certificate">๐ ะะปาัั ัะฐั</option> <option value="sertifikat">๐ ะกะตััะธัะธะบะฐั</option> <option value="nomination">๐ ะะพะผะธะฝะฐัะธั</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="teacherDate">ะาฏะฝั *</label> <input type="date" id="teacherDate" required>
ย ย ย ย ย</div>
ย ย ย ย </div>
ย ย ย ย <div class="form-group"><label for="teacherDescription">ะกะธะฟะฐััะฐะผะฐ (ะผัะฝะดะตััั ะตะผะตั)</label> <textarea id="teacherDescription" placeholder="ะะตัััััะบ ัััะฐะปั าะพััะผัะฐ ะฐาะฟะฐัะฐั..."></textarea>
ย ย ย ย </div>
ย ย ย ย <div class="form-actions"><button type="submit" class="submit-btn" id="teacherSubmitBtn"> <span class="loading-spinner" id="teacherSpinner"></span> <span id="teacherSubmitText">ะกะฐาัะฐั</span> </button> <button type="button" class="cancel-btn" onclick="cancelForm('teacher')">ะะพะปะดััะผะฐั</button>
ย ย ย ย </div>
ย ย ย ย</form>
ย ย ย </div>
ย ย ย</div>
ย ย ย<div class="achievements-header">
ย ย ย <h2>ะาฑาะฐะปัะผะดะตั ะถะตัััััะบัะตัั</h2>
ย ย ย <div class="filter-buttons"><button class="filter-btn active" onclick="filterAchievements('teacher', 'all')">ะะฐัะปัาั</button> <button class="filter-btn" onclick="filterAchievements('teacher', 'academic')">ะะบะฐะดะตะผะธัะปัา</button> <button class="filter-btn" onclick="filterAchievements('teacher', 'sports')">ะกะฟะพัั</button> <button class="filter-btn" onclick="filterAchievements('teacher', 'art')">ำจะฝะตั</button>
ย ย ย </div>
ย ย ย</div>
ย ย ย<div id="teacherAchievements" class="achievements-grid"></div>
ย ย </div>ย ย <div id="studentsTab" class="tab-content">
ย ย ย<div class="limit-warning" id="studentLimitWarning"><span class="limit-warning-icon">โ๏ธ</span> <span>ะัะบะตััั: ะะฐะบัะธะผะฐะปะดั 999 ะถะฐะทะฑะฐ ะปะธะผะธััะฝะต ะถะตัััาฃัะท. ะะฐาฃะฐ ะถะตัััััะบ าะพัั าฏััะฝ ะบะตะนะฑััะตัะปะตััะฝ ะถะพะนัาฃัะท.</span>
ย ย ย</div>
ย ย ย<div class="add-form-card">
ย ย ย <div class="form-header">
ย ย ย ย<h2>ะาััั ะถะตัััััะณัะฝ าะพัั</h2><button class="toggle-form-btn" onclick="toggleForm('student')"> <span id="studentFormToggleText">+ ะะฐาฃะฐ ะถะตัััััะบ</span> </button>
ย ย ย </div>
ย ย ย <div class="form-content" id="studentForm">
ย ย ย ย<form id="studentAchievementForm" onsubmit="handleStudentSubmit(event)">
ย ย ย ย <div class="form-grid">
ย ย ย ย ย<div class="form-group"><label for="studentName">ะาัััะฝัาฃ ะฐัั-ะถำฉะฝั *</label> <input type="text" id="studentName" required placeholder="ะััะฐะปั: ะัะปะฐะฝ ะาฑัะปะฐะฝะพะฒ">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentClass">ะกัะฝัะฟ *</label> <input type="text" id="studentClass" required placeholder="ะััะฐะปั: 8ะ">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentTeacher">ะะตัะตะบัั ะผาฑาะฐะปัะผ *</label> <input type="text" id="studentTeacher" required placeholder="ะััะฐะปั: ะะนะณาฏะป ะกะตะนััะพะฒะฐ">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentTitle">ะะตัััััะบ ะฐัะฐัั *</label> <input type="text" id="studentTitle" required placeholder="ะััะฐะปั: ะะปะธะผะฟะธะฐะดะฐ ะถะตาฃัะผะฟะฐะทั">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentCategory">ะะฐัะตะณะพัะธั *</label> <select id="studentCategory" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="academic">ะะบะฐะดะตะผะธัะปัา</option> <option value="sports">ะกะฟะพััััา</option> <option value="art">ำจะฝะตั</option> <option value="social">ำะปะตัะผะตัััะบ</option> <option value="other">ะะฐัาะฐ</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentLevel">ะะฐััั ะดะตาฃะณะตะนั *</label> <select id="studentLevel" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="district">ะัะดะฐะฝะดัา</option> <option value="regional">ะะฑะปััััา</option> <option value="national">ะะตัะฟัะฑะปะธะบะฐะปัา</option> <option value="international">ะฅะฐะปัาะฐัะฐะปัา</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentPlace">ะะปาะฐะฝ ะพัะฝั *</label> <select id="studentPlace" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="1">๐ฅ 1 ะพััะฝ</option> <option value="2">๐ฅ 2 ะพััะฝ</option> <option value="3">๐ฅ 3 ะพััะฝ</option> <option value="diploma">๐ ะัะฐะผะพัะฐ</option> <option value="certificate">๐ ะะปาัั ัะฐั</option> <option value="sertifikat">๐ ะกะตััะธัะธะบะฐั</option> <option value="nomination">๐ ะะพะผะธะฝะฐัะธั</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentDate">ะาฏะฝั *</label> <input type="date" id="studentDate" required>
ย ย ย ย ย</div>
ย ย ย ย </div>
ย ย ย ย <div class="form-group"><label for="studentDescription">ะกะธะฟะฐััะฐะผะฐ (ะผัะฝะดะตััั ะตะผะตั)</label> <textarea id="studentDescription" placeholder="ะะตัััััะบ ัััะฐะปั าะพััะผัะฐ ะฐาะฟะฐัะฐั..."></textarea>
ย ย ย ย </div>
ย ย ย ย <div class="form-actions"><button type="submit" class="submit-btn" id="studentSubmitBtn"> <span class="loading-spinner" id="studentSpinner"></span> <span id="studentSubmitText">ะกะฐาัะฐั</span> </button> <button type="button" class="cancel-btn" onclick="cancelForm('student')">ะะพะปะดััะผะฐั</button>
ย ย ย ย </div>
ย ย ย ย</form>
ย ย ย </div>
ย ย ย</div>
ย ย ย<div class="achievements-header">
ย ย ย <h2>ะาัััะปะฐั ะถะตัััััะบัะตัั</h2>
ย ย ย <div class="filter-buttons"><button class="filter-btn active" onclick="filterAchievements('student', 'all')">ะะฐัะปัาั</button> <button class="filter-btn" onclick="filterAchievements('student', 'academic')">ะะบะฐะดะตะผะธัะปัา</button> <button class="filter-btn" onclick="filterAchievements('student', 'sports')">ะกะฟะพัั</button> <button class="filter-btn" onclick="filterAchievements('student', 'art')">ำจะฝะตั</button>
ย ย ย </div>
ย ย ย</div>
ย ย ย<div id="studentAchievements" class="achievements-grid"></div>
ย ย </div>ย ย <div id="ratingTab" class="tab-content">
ย ย ย<div class="rating-section">
ย ย ย <div class="rating-header">
ย ย ย ย<h2>ะะตัััััะบัะตั ัะตะนัะธะฝะณั</h2>
ย ย ย ย<div class="rating-toggle"><button class="rating-toggle-btn active" onclick="switchRating('teachers')">ะาฑาะฐะปัะผะดะตั</button> <button class="rating-toggle-btn" onclick="switchRating('students')">ะาัััะปะฐั</button> <button class="rating-toggle-btn" onclick="switchRating('classes')">ะกัะฝัะฟัะฐั</button>
ย ย ย ย</div>
ย ย ย </div>
ย ย ย <div id="teachersRating" class="rating-list"></div>
ย ย ย <div id="studentsRating" class="rating-list" style="display: none;"></div>
ย ย ย <div id="classesRating" class="rating-list" style="display: none;"></div>
ย ย ย</div>
ย ย </div>
ย ย</main>ย ย<div id="toast" class="toast"><span class="toast-icon" id="toastIcon"></span> <span class="toast-message" id="toastMessage"></span>
ย ย</div>
ย </div>
ย <script>
ย ย // ----------------------------------------------------------------------
ย ย // GLOBAL CONFIGURATION & STATE
ย ย // ----------------------------------------------------------------------
ย ย const STORAGE_KEY = 'hancol_achievements';
ย ย const MAX_LIMIT = 999;
ย ยย
ย ย let allAchievements = [];
ย ย let currentTab = 'home';
ย ย let currentRating = 'teachers';
ย ย let currentTeacherFilter = 'all';
ย ย let currentStudentFilter = 'all';
ย ยย
ย ย // ----------------------------------------------------------------------
ย ย // 1. LOCAL STORAGE ะะะะะะขะะะะ ะะะกาะะะฃ (CRUD)
ย ย // ----------------------------------------------------------------------
ย ยย
ย ย function loadAchievements() {
ย ย ย ย try {
ย ย ย ย ย ย const storedData = localStorage.getItem(STORAGE_KEY);
ย ย ย ย ย ย allAchievements = storedData ? JSON.parse(storedData) : [];
ย ย ย ย } catch (e) {
ย ย ย ย ย ย console.error("Local storage-ัะฐะฝ ะดะตัะตะบัะตัะดั ะถาฏะบัะตั าะฐัะตัั:", e);
ย ย ย ย ย ย allAchievements = [];
ย ย ย ย }
ย ย }

ย ย function saveAchievements() {
ย ย ย ย try {
ย ย ย ย ย ย localStorage.setItem(STORAGE_KEY, JSON.stringify(allAchievements));
ย ย ย ย } catch (e) {
ย ย ย ย ย ย console.error("Local storage-าะฐ ะดะตัะตะบัะตัะดั ัะฐาัะฐั าะฐัะตัั:", e);
ย ย ย ย ย ย showToast('าะฐัะต: ะะตัะตะบัะตัะดั ัะฐาัะฐั ะผาฏะผะบัะฝ ะฑะพะปะผะฐะดั (ะััะตะปัะบ ัะพะปั ะฑะพะปัั ะผาฏะผะบัะฝ)', 'error');
ย ย ย ย ย ย return false;
ย ย ย ย }
ย ย ย ย return true;
ย ย }

ย ย async function createAchievement(achievement) {
ย ย ย ย if (allAchievements.length >= MAX_LIMIT) return { isOk: false };
ย ย ย ยย
ย ย ย ย // __backendId ะณะตะฝะตัะฐัะธััั
ย ย ย ย const newAchievement = {ย
ย ย ย ย ย ย ...achievement,ย
ย ย ย ย ย ย __backendId: Date.now().toString() + Math.random().toString(36).substring(2, 9)
ย ย ย ย };
ย ย ย ย allAchievements.push(newAchievement);
ย ย ย ยย
ย ย ย ย if (saveAchievements()) {
ย ย ย ย ย ย updateUI();
ย ย ย ย ย ย return { isOk: true };
ย ย ย ย }
ย ย ย ย return { isOk: false };
ย ย }

ย ย window.deleteAchievement = async function(backendId) { // HTML-ะดะตะฝ ัะฐาััั าฏััะฝ global ะตัั
ย ย ย ย const initialLength = allAchievements.length;
ย ย ย ย allAchievements = allAchievements.filter(a => a.__backendId !== backendId);
ย ย ย ยย
ย ย ย ย if (saveAchievements() && allAchievements.length < initialLength) {
ย ย ย ย ย ย updateUI();
ย ย ย ย ย ย showToast('ะะตัััััะบ ะถะพะนัะปะดั', 'success');
ย ย ย ย ย ย return { isOk: true };
ย ย ย ย }
ย ย ย ย showToast('าะฐัะต: ะะตัััััะบ ะถะพะนัะปะผะฐะดั', 'error');
ย ย ย ย return { isOk: false };
ย ย }

ย ย // ----------------------------------------------------------------------
ย ย // 2. ะะะขะะะคะะะกะขะ ะะาขะะะขะฃ ะำะะ ะะะกาะะะฃ (UI)
ย ย // ----------------------------------------------------------------------

ย ย function initializeApp() {
ย ย ย ย loadAchievements(); // ะะตัะตะบัะตัะดั ะถาฏะบัะตั
ย ย ย ย updateUI(); // ะะฝัะตััะตะนััั ะถะฐาฃะฐััั
ย ย ย ยย
ย ย ย ย // ะาฏะฝะดั ะฑาฏะณัะฝะณั ะบาฏะฝะผะตะฝ ัะพะปัััั
ย ย ย ย const today = new Date().toISOString().split('T')[0];
ย ย ย ย const teacherDateEl = document.getElementById('teacherDate');
ย ย ย ย const studentDateEl = document.getElementById('studentDate');
ย ย ย ย if (teacherDateEl) teacherDateEl.value = today;
ย ย ย ย if (studentDateEl) studentDateEl.value = today;
ย ย }
ย ยย
ย ย function updateUI() {
ย ย ย ย checkLimits();
ย ย ย ย updateStats();
ย ย ย ย renderAchievements('teacher');
ย ย ย ย renderAchievements('student');
ย ย ย ย renderRating(currentRating);
ย ย }
ย ยย
ย ย function updateStats() {
ย ย ย ย const teacherAchievements = allAchievements.filter(a => a.type === 'teacher');
ย ย ย ย const studentAchievements = allAchievements.filter(a => a.type === 'student');
ย ย ย ย const totalCount = allAchievements.length;
ย ย ย ยย
ย ย ย ย const teacherCountEl = document.getElementById('teacherCount');
ย ย ย ย const studentCountEl = document.getElementById('studentCount');
ย ย ย ย const totalCountEl = document.getElementById('totalCount');
ย ย ย ยย
ย ย ย ย if (teacherCountEl) teacherCountEl.textContent = teacherAchievements.length;
ย ย ย ย if (studentCountEl) studentCountEl.textContent = studentAchievements.length;
ย ย ย ย if (totalCountEl) totalCountEl.textContent = totalCount;
ย ย }

ย ย function checkLimits() {
ย ย ย ย const teacherWarning = document.getElementById('teacherLimitWarning');
ย ย ย ย const studentWarning = document.getElementById('studentLimitWarning');
ย ย ย ยย
ย ย ย ย if (allAchievements.length >= MAX_LIMIT) {
ย ย ย ย ย ย if (teacherWarning) teacherWarning.classList.add('show');
ย ย ย ย ย ย if (studentWarning) studentWarning.classList.add('show');
ย ย ย ย } else {
ย ย ย ย ย ย if (teacherWarning) teacherWarning.classList.remove('show');
ย ย ย ย ย ย if (studentWarning) studentWarning.classList.remove('show');
ย ย ย ย }
ย ย }

ย ย window.switchTab = function(tab) { // HTML-ะดะตะฝ ัะฐาััั าฏััะฝ global ะตัั
ย ย ย ย currentTab = tab;
ย ย ย ยย
ย ย ย ย document.querySelectorAll('.nav-tabs .tab-btn').forEach(btn => btn.classList.remove('active'));
ย ย ย ย document.querySelectorAll('.main-content .tab-content').forEach(content => content.classList.remove('active'));
ย ย ย ยย
ย ย ย ย let clickedButton = event.target.closest('.tab-btn');
ย ย ย ย if (clickedButton) clickedButton.classList.add('active');

ย ย ย ย if (tab === 'home') {
ย ย ย ย ย ย document.getElementById('homeTab').classList.add('active');
ย ย ย ย ย ย updateStats();
ย ย ย ย } else if (tab === 'teachers') {
ย ย ย ย ย ย document.getElementById('teachersTab').classList.add('active');
ย ย ย ย ย ย renderAchievements('teacher');
ย ย ย ย } else if (tab === 'students') {
ย ย ย ย ย ย document.getElementById('studentsTab').classList.add('active');
ย ย ย ย ย ย renderAchievements('student');
ย ย ย ย } else if (tab === 'rating') {
ย ย ย ย ย ย document.getElementById('ratingTab').classList.add('active');
ย ย ย ย ย ย renderRating(currentRating);
ย ย ย ย }
ย ย }

ย ย window.toggleForm = function(type) { // HTML-ะดะตะฝ ัะฐาััั าฏััะฝ global ะตัั
ย ย ย ย const form = document.getElementById(`${type}Form`);
ย ย ย ย const toggleText = document.getElementById(`${type}FormToggleText`);
ย ย ย ยย
ย ย ย ย if (form.classList.contains('show')) {
ย ย ย ย ย ย form.classList.remove('show');
ย ย ย ย ย ย toggleText.textContent = '+ ะะฐาฃะฐ ะถะตัััััะบ';
ย ย ย ย } else {
ย ย ย ย ย ย form.classList.add('show');
ย ย ย ย ย ย toggleText.textContent = 'โ ะะฐะฑั';
ย ย ย ย }
ย ย }

ย ย window.cancelForm = function(type) { // HTML-ะดะตะฝ ัะฐาััั าฏััะฝ global ะตัั
ย ย ย ย document.getElementById(`${type}AchievementForm`).reset();
ย ย ย ย const today = new Date().toISOString().split('T')[0];
ย ย ย ย document.getElementById(`${type}Date`).value = today;
ย ย ย ย toggleForm(type);
ย ย }

ย ย // ----------------------------------------------------------------------
ย ย // 3. ะคะะะะะะซ ะะะะะะฃ ะะะะะะะกะซ (ะกะาะขะะะฃ ะำะกะะะะกะะ ะจะะจะฃ)
ย ย // ----------------------------------------------------------------------
ย ย 
ย ย // ะาฑาะฐะปัะผ ะะตัััััะณัะฝ ะกะฐาัะฐั
ย ย async function handleTeacherSubmit(event) {
ย ย ย ย event.preventDefault();
ย ย ย ยย
ย ย ย ย if (allAchievements.length >= MAX_LIMIT) {
ย ย ย ย ย ย showToast('ะะฐะบัะธะผะฐะปะดั ะปะธะผะธัะบะต ะถะตัััาฃัะท (999)', 'error');
ย ย ย ย ย ย return;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย const submitBtn = document.getElementById('teacherSubmitBtn');
ย ย ย ย const spinner = document.getElementById('teacherSpinner');
ย ย ย ย const submitText = document.getElementById('teacherSubmitText');
ย ย ย ยย
ย ย ย ย // าะฐััะฟ าะฐะปัะดั ะฑะพะปะดััะผะฐั าฏััะฝ UI-ะดั ำฉะทะณะตััะตะผัะท
ย ย ย ย submitBtn.disabled = true;
ย ย ย ย spinner.style.display = 'inline-block';
ย ย ย ย submitText.textContent = 'ะกะฐาัะฐะปัะดะฐ...';
ย ย ย ยย
ย ย ย ย const achievement = {
ย ย ย ย ย ย type: 'teacher',
ย ย ย ย ย ย name: document.getElementById('teacherName').value.trim(),
ย ย ย ย ย ย title: document.getElementById('teacherTitle').value.trim(),
ย ย ย ย ย ย category: document.getElementById('teacherCategory').value,
ย ย ย ย ย ย level: document.getElementById('teacherLevel').value,
ย ย ย ย ย ย place: document.getElementById('teacherPlace').value,
ย ย ย ย ย ย date: document.getElementById('teacherDate').value,
ย ย ย ย ย ย description: document.getElementById('teacherDescription').value.trim() || '',
ย ย ย ย ย ย className: '',
ย ย ย ย ย ย teacherName: '',
ย ย ย ย ย ย createdAt: new Date().toISOString()
ย ย ย ย };
ย ย ย ยย
ย ย ย ย const result = await createAchievement(achievement); 
ย ย ย ยย
ย ย ย ย // UI-ะดั ะฑะฐััะฐะฟาั ะบาฏะนะณะต าะฐะนัะฐัั
ย ย ย ย submitBtn.disabled = false;
ย ย ย ย spinner.style.display = 'none';
ย ย ย ย submitText.textContent = 'ะกะฐาัะฐั';
ย ย ย ยย
ย ย ย ย if (result.isOk) {
ย ย ย ย ย ย showToast('ะะตัััััะบ ัำััั าะพััะปะดั!', 'success');
ย ย ย ย ย ย document.getElementById('teacherAchievementForm').reset();
ย ย ย ย ย ย const today = new Date().toISOString().split('T')[0];
ย ย ย ย ย ย document.getElementById('teacherDate').value = today;
ย ย ย ย ย ย cancelForm('teacher'); // ะคะพัะผะฐะฝั ะถะฐะฑั
ย ย ย ย } else {
ย ย ย ย ย ย showToast('าะฐัะต: ะะตัััััะบ าะพััะปะผะฐะดั', 'error');
ย ย ย ย }
ย ย }

ย ย // ะาััั ะะตัััััะณัะฝ ะกะฐาัะฐั
ย ย async function handleStudentSubmit(event) {
ย ย ย ย event.preventDefault();
ย ย ย ยย
ย ย ย ย if (allAchievements.length >= MAX_LIMIT) {
ย ย ย ย ย ย showToast('ะะฐะบัะธะผะฐะปะดั ะปะธะผะธัะบะต ะถะตัััาฃัะท (999)', 'error');
ย ย ย ย ย ย return;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย const submitBtn = document.getElementById('studentSubmitBtn');
ย ย ย ย const spinner = document.getElementById('studentSpinner');
ย ย ย ย const submitText = document.getElementById('studentSubmitText');
ย ย ย ยย
ย ย ย ย // าะฐััะฟ าะฐะปัะดั ะฑะพะปะดััะผะฐั าฏััะฝ UI-ะดั ำฉะทะณะตััะตะผัะท
ย ย ย ย submitBtn.disabled = true;
ย ย ย ย spinner.style.display = 'inline-block';
ย ย ย ย submitText.textContent = 'ะกะฐาัะฐะปัะดะฐ...';
ย ย ย ยย
ย ย ย ย const achievement = {
ย ย ย ย ย ย type: 'student',
ย ย ย ย ย ย name: document.getElementById('studentName').value.trim(),
ย ย ย ย ย ย title: document.getElementById('studentTitle').value.trim(),
ย ย ย ย ย ย category: document.getElementById('studentCategory').value,
ย ย ย ย ย ย level: document.getElementById('studentLevel').value,
ย ย ย ย ย ย place: document.getElementById('studentPlace').value,
ย ย ย ย ย ย date: document.getElementById('studentDate').value,
ย ย ย ย ย ย description: document.getElementById('studentDescription').value.trim() || '',
ย ย ย ย ย ย className: document.getElementById('studentClass').value.trim(),
ย ย ย ย ย ย teacherName: document.getElementById('studentTeacher').value.trim(),
ย ย ย ย ย ย createdAt: new Date().toISOString()
ย ย ย ย };
ย ย ย ยย
ย ย ย ย const result = await createAchievement(achievement);
ย ย ย ยย
ย ย ย ย // UI-ะดั ะฑะฐััะฐะฟาั ะบาฏะนะณะต าะฐะนัะฐัั
ย ย ย ย submitBtn.disabled = false;
ย ย ย ย spinner.style.display = 'none';
ย ย ย ย submitText.textContent = 'ะกะฐาัะฐั';
ย ย ย ยย
ย ย ย ย if (result.isOk) {
ย ย ย ย ย ย showToast('ะะตัััััะบ ัำััั าะพััะปะดั!', 'success');
ย ย ย ย ย ย document.getElementById('studentAchievementForm').reset();
ย ย ย ย ย ย const today = new Date().toISOString().split('T')[0];
ย ย ย ย ย ย document.getElementById('studentDate').value = today;
ย ย ย ย ย ย cancelForm('student'); // ะคะพัะผะฐะฝั ะถะฐะฑั
ย ย ย ย } else {
ย ย ย ย ย ย showToast('าะฐัะต: ะะตัััััะบ าะพััะปะผะฐะดั', 'error');
ย ย ย ย }
ย ย }
ย ย 
ย ย // ----------------------------------------------------------------------
ย ย // 4. ะขะะะะะะ ะะะะะะะะะฃ ะำะะ ะคะะะฌะขะะะะฃ
ย ย // ----------------------------------------------------------------------

ย ย window.filterAchievements = function(type, category) { // HTML-ะดะตะฝ ัะฐาััั าฏััะฝ global ะตัั
ย ย ย ย if (type === 'teacher') {
ย ย ย ย ย ย currentTeacherFilter = category;
ย ย ย ย } else {
ย ย ย ย ย ย currentStudentFilter = category;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย const tabEl = document.getElementById(type === 'teacher' ? 'teachersTab' : 'studentsTab');
ย ย ย ย const filterButtons = tabEl.querySelector('.filter-buttons').querySelectorAll('.filter-btn');
ย ย ย ยย
ย ย ย ย filterButtons.forEach(btn => btn.classList.remove('active'));
ย ย ย ยย
ย ย ย ย const clickedButton = event.target.closest('.filter-btn');
ย ย ย ย if (clickedButton) clickedButton.classList.add('active');
ย ย ย ยย
ย ย ย ย renderAchievements(type);
ย ย }

ย ย function calculatePoints(achievement) {
ย ย ย ย let points = 0;
ย ย ย ยย
ย ย ย ย if (achievement.level === 'national') {
ย ย ย ย ย ย points = 3;
ย ย ย ย } else if (achievement.level === 'regional') {
ย ย ย ย ย ย points = 2;
ย ย ย ย } else if (achievement.level === 'district') {
ย ย ย ย ย ย points = 1;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย return points;
ย ย }

ย ย function renderAchievements(type) {
ย ย ย ย const container = document.getElementById(`${type}Achievements`);
ย ย ย ย const filter = type === 'teacher' ? currentTeacherFilter : currentStudentFilter;
ย ย ย ยย
ย ย ย ย let filtered = allAchievements.filter(a => a.type === type);
ย ย ย ย if (filter !== 'all') {
ย ย ย ย ย ย filtered = filtered.filter(a => a.category === filter);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย filtered.sort((a, b) => new Date(b.date) - new Date(a.date));
ย ย ย ยย
ย ย ย ย if (filtered.length === 0) {
ย ย ย ย ย ย container.innerHTML = `
ย ย ย ย ย ย ย ย <div class="empty-state">
ย ย ย ย ย ย ย ย ย ย <div class="empty-state-icon">๐</div>
ย ย ย ย ย ย ย ย ย ย <h3>ะะตัััััะบัะตั ะถะพา</h3>
ย ย ย ย ย ย ย ย ย ย <p>ะะฐาฃะฐ ะถะตัััััะบ าะพัั าฏััะฝ ะถะพาะฐััะดะฐาั ัาฏะนะผะตะฝั ะฑะฐััาฃัะท</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย `;
ย ย ย ย ย ย return;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย container.innerHTML = filtered.map(achievement => `
ย ย ย ย ย ย <div class="achievement-card">
ย ย ย ย ย ย ย ย <div class="achievement-header">
ย ย ย ย ย ย ย ย ย ย <span class="achievement-category category-${achievement.category}">
ย ย ย ย ย ย ย ย ย ย ย ย ${getCategoryName(achievement.category)}
ย ย ย ย ย ย ย ย ย ย </span>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <h3 class="achievement-title">${achievement.title}</h3>
ย ย ย ย ย ย ย ย <p class="achievement-name">๐ค ${achievement.name}</p>
ย ย ย ย ย ย ย ย ${achievement.level ? `<p class="achievement-name">๐ ${getLevelName(achievement.level)} (${calculatePoints(achievement)} าฑะฟะฐะน)</p>` : ''}
ย ย ย ย ย ย ย ย ${achievement.place ? `<p class="achievement-name">${getPlaceName(achievement.place)}</p>` : ''}
ย ย ย ย ย ย ย ย ${achievement.teacherName ? `<p class="achievement-name">๐จโ๐ซ ะะตัะตะบัั: ${achievement.teacherName}</p>` : ''}
ย ย ย ย ย ย ย ย ${achievement.description ? `<p class="achievement-description">${achievement.description}</p>` : ''}
ย ย ย ย ย ย ย ย <div class="achievement-footer">
ย ย ย ย ย ย ย ย ย ย <span class="achievement-date">๐ ${formatDate(achievement.date)}</span>
ย ย ย ย ย ย ย ย ย ย ${achievement.className ? `<span class="achievement-class">๐ ${achievement.className}</span>` : ''}
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <button class="delete-btn" onclick="deleteAchievement('${achievement.__backendId}')">
ย ย ย ย ย ย ย ย ย ย ๐๏ธ ะะพั
ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย </div>
ย ย ย ย `).join('');
ย ย }

ย ย // ----------------------------------------------------------------------
ย ย // 5. ะะะะขะะะะขะ ะะะกาะะะฃ
ย ย // ----------------------------------------------------------------------

ย ย window.switchRating = function(type) { // HTML-ะดะตะฝ ัะฐาััั าฏััะฝ global ะตัั
ย ย ย ย currentRating = type;
ย ย ย ยย
ย ย ย ย document.querySelectorAll('.rating-toggle-btn').forEach(btn => btn.classList.remove('active'));
ย ย ย ยย
ย ย ย ย const clickedButton = event.target.closest('.rating-toggle-btn');
ย ย ย ย if (clickedButton) clickedButton.classList.add('active');

ย ย ย ย document.getElementById('teachersRating').style.display = 'none';
ย ย ย ย document.getElementById('studentsRating').style.display = 'none';
ย ย ย ย document.getElementById('classesRating').style.display = 'none';
ย ย ย ยย
ย ย ย ย document.getElementById(`${type}Rating`).style.display = 'flex';
ย ย ย ย renderRating(type);
ย ย }

ย ย function renderRating(type) {
ย ย ย ย const container = document.getElementById(`${type}Rating`);
ย ย ย ยย
ย ย ย ย if (type === 'teachers') {
ย ย ย ย ย ย renderTeachersRating(container);
ย ย ย ย } else if (type === 'students') {
ย ย ย ย ย ย renderStudentsRating(container);
ย ย ย ย } else if (type === 'classes') {
ย ย ย ย ย ย renderClassesRating(container);
ย ย ย ย }
ย ย }

ย ย function renderTeachersRating(container) {
ย ย ย ย const teachers = {};
ย ย ย ย allAchievements.filter(a => a.type === 'teacher').forEach(achievement => {
ย ย ย ย ย ย const nameKey = achievement.name.toUpperCase();
ย ย ย ย ย ย if (!teachers[nameKey]) {
ย ย ย ย ย ย ย ย teachers[nameKey] = {
ย ย ย ย ย ย ย ย ย ย name: achievement.name,
ย ย ย ย ย ย ย ย ย ย count: 0,
ย ย ย ย ย ย ย ย ย ย points: 0
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย teachers[nameKey].count++;
ย ย ย ย ย ย teachers[nameKey].points += calculatePoints(achievement);
ย ย ย ย });
ย ย ย ยย
ย ย ย ย const sorted = Object.values(teachers).sort((a, b) => b.points - a.points);
ย ย ย ยย
ย ย ย ย if (sorted.length === 0) {
ย ย ย ย ย ย container.innerHTML = `<div class="empty-state"><div class="empty-state-icon">๐</div><h3>ะะตะนัะธะฝะณ ะถะพา</h3><p>ะะตัััััะบัะตั าะพััะปาะฐะฝะฝะฐะฝ ะบะตะนัะฝ ัะตะนัะธะฝะณ ะบำฉััะฝะตะดั</p></div>`;
ย ย ย ย ย ย return;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย container.innerHTML = sorted.map((teacher, index) => `
ย ย ย ย ย ย <div class="rating-item">
ย ย ย ย ย ย ย ย <div class="rating-rank">${index + 1}</div>
ย ย ย ย ย ย ย ย <div class="rating-info">
ย ย ย ย ย ย ย ย ย ย <h3 class="rating-name">${teacher.name}</h3>
ย ย ย ย ย ย ย ย ย ย <p class="rating-details">${teacher.count} ะถะตัััััะบ</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="rating-score">
ย ย ย ย ย ย ย ย ย ย <p class="rating-points">${teacher.points}</p>
ย ย ย ย ย ย ย ย ย ย <p class="rating-label">าฑะฟะฐะน</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย `).join('');
ย ย }

ย ย function renderStudentsRating(container) {
ย ย ย ย const students = {};
ย ย ย ย allAchievements.filter(a => a.type === 'student').forEach(achievement => {
ย ย ย ย ย ย const nameKey = achievement.name.toUpperCase();
ย ย ย ย ย ย if (!students[nameKey]) {
ย ย ย ย ย ย ย ย students[nameKey] = {
ย ย ย ย ย ย ย ย ย ย name: achievement.name,
ย ย ย ย ย ย ย ย ย ย className: achievement.className,
ย ย ย ย ย ย ย ย ย ย count: 0,
ย ย ย ย ย ย ย ย ย ย points: 0
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย students[nameKey].count++;
ย ย ย ย ย ย students[nameKey].points += calculatePoints(achievement);
ย ย ย ย });
ย ย ย ยย
ย ย ย ย const sorted = Object.values(students).sort((a, b) => b.points - a.points);
ย ย ย ยย
ย ย ย ย if (sorted.length === 0) {
ย ย ย ย ย ย container.innerHTML = `<div class="empty-state" style="color: #2d3748;"><div class="empty-state-icon">๐</div><h3 style="color: #2d3748;">ะะตะนัะธะฝะณ ะถะพา</h3><p style="color: #4a5568;">ะะตัััััะบัะตั าะพััะปาะฐะฝะฝะฐะฝ ะบะตะนัะฝ ัะตะนัะธะฝะณ ะบำฉััะฝะตะดั</p></div>`;
ย ย ย ย ย ย return;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย container.innerHTML = sorted.map((student, index) => `
ย ย ย ย ย ย <div class="rating-item">
ย ย ย ย ย ย ย ย <div class="rating-rank">${index + 1}</div>
ย ย ย ย ย ย ย ย <div class="rating-info">
ย ย ย ย ย ย ย ย ย ย <h3 class="rating-name">${student.name}</h3>
ย ย ย ย ย ย ย ย ย ย <p class="rating-details">${student.className} โข ${student.count} ะถะตัััััะบ</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="rating-score">
ย ย ย ย ย ย ย ย ย ย <p class="rating-points">${student.points}</p>
ย ย ย ย ย ย ย ย ย ย <p class="rating-label">าฑะฟะฐะน</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย `).join('');
ย ย }

ย ย function renderClassesRating(container) {
ย ย ย ย const classes = {};
ย ย ย ย allAchievements.filter(a => a.type === 'student' && a.className).forEach(achievement => {
ย ย ย ย ย ย const classKey = achievement.className.toUpperCase();
ย ย ย ย ย ย if (!classes[classKey]) {
ย ย ย ย ย ย ย ย classes[classKey] = {
ย ย ย ย ย ย ย ย ย ย className: achievement.className,
ย ย ย ย ย ย ย ย ย ย count: 0,
ย ย ย ย ย ย ย ย ย ย points: 0,
ย ย ย ย ย ย ย ย ย ย students: new Set()
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย classes[classKey].count++;
ย ย ย ย ย ย classes[classKey].points += calculatePoints(achievement);
ย ย ย ย ย ย classes[classKey].students.add(achievement.name);
ย ย ย ย });
ย ย ย ยย
ย ย ย ย const sorted = Object.values(classes).sort((a, b) => b.points - a.points);
ย ย ย ยย
ย ย ย ย if (sorted.length === 0) {
ย ย ย ย ย ย container.innerHTML = `<div class="empty-state"><div class="empty-state-icon">๐</div><h3>ะะตะนัะธะฝะณ ะถะพา</h3><p>ะะตัััััะบัะตั าะพััะปาะฐะฝะฝะฐะฝ ะบะตะนัะฝ ัะตะนัะธะฝะณ ะบำฉััะฝะตะดั</p></div>`;
ย ย ย ย ย ย return;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย container.innerHTML = sorted.map((classData, index) => `
ย ย ย ย ย ย <div class="rating-item">
ย ย ย ย ย ย ย ย <div class="rating-rank">${index + 1}</div>
ย ย ย ย ย ย ย ย <div class="rating-info">
ย ย ย ย ย ย ย ย ย ย <h3 class="rating-name">${classData.className} ััะฝัะฟ</h3>
ย ย ย ย ย ย ย ย ย ย <p class="rating-details">${classData.students.size} ะพาััั โข ${classData.count} ะถะตัััััะบ</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="rating-score">
ย ย ย ย ย ย ย ย ย ย <p class="rating-points">${classData.points}</p>
ย ย ย ย ย ย ย ย ย ย <p class="rating-label">าฑะฟะฐะน</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย `).join('');
ย ย }

ย ย // ----------------------------------------------------------------------
ย ย // 6. ะำจะะะะจะ ะคะฃะะะฆะะฏะะะ (UTILITIES)
ย ย // ----------------------------------------------------------------------

ย ย function getCategoryName(category) {
ย ย ย ย const names = {
ย ย ย ย ย ย academic: 'ะะบะฐะดะตะผะธัะปัา',
ย ย ย ย ย ย sports: 'ะกะฟะพััััา',
ย ย ย ย ย ย art: 'ำจะฝะตั',
ย ย ย ย ย ย social: 'ำะปะตัะผะตัััะบ',
ย ย ย ย ย ย other: 'ะะฐัาะฐ'
ย ย ย ย };
ย ย ย ย return names[category] || category;
ย ย }

ย ย function getLevelName(level) {
ย ย ย ย const names = {
ย ย ย ย ย ย district: 'ะัะดะฐะฝะดัา',
ย ย ย ย ย ย regional: 'ะะฑะปััััา',
ย ย ย ย ย ย national: 'ะะตัะฟัะฑะปะธะบะฐะปัา',
ย ย ย ย ย ย international: 'ะฅะฐะปัาะฐัะฐะปัา'
ย ย ย ย };
ย ย ย ย return names[level] || level;
ย ย }

ย ย function getPlaceName(place) {
ย ย ย ย const names = {
ย ย ย ย ย ย '1': '๐ฅ 1 ะพััะฝ',
ย ย ย ย ย ย '2': '๐ฅ 2 ะพััะฝ',
ย ย ย ย ย ย '3': '๐ฅ 3 ะพััะฝ',
ย ย ย ย ย ย 'diploma': '๐ ะัะฐะผะพัะฐ',
ย ย ย ย ย ย 'certificate': '๐ ะะปาัั ัะฐั',
ย ย ย ย ย ย 'sertifikat': '๐ ะกะตััะธัะธะบะฐั',
ย ย ย ย ย ย 'nomination': '๐ ะะพะผะธะฝะฐัะธั'
ย ย ย ย };
ย ย ย ย return names[place] || place;
ย ย }

ย ย function formatDate(dateString) {
ย ย ย ย const date = new Date(dateString);
ย ย ย ย const months = ['าะฐาฃ', 'ะฐาะฟ', 'ะฝะฐั', 'ัำั', 'ะผะฐะผ', 'ะผะฐั', 'ััะป', 'ัะฐะผ', 'าัั', 'าะฐะท', 'าะฐั', 'ะถะตะป'];
ย ย ย ย return `${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;
ย ย }

ย ย function showToast(message, type) {
ย ย ย ย const toast = document.getElementById('toast');
ย ย ย ย const icon = document.getElementById('toastIcon');
ย ย ย ย const messageEl = document.getElementById('toastMessage');
ย ย ย ยย
ย ย ย ย toast.className = `toast ${type}`;
ย ย ย ย icon.textContent = type === 'success' ? 'โ' : 'โ';
ย ย ย ย messageEl.textContent = message;
ย ย ย ยย
ย ย ย ย toast.classList.add('show');
ย ย ย ยย
ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย toast.classList.remove('show');
ย ย ย ย }, 3000);
ย ย }

ย ย // Initialize App
ย ย document.addEventListener('DOMContentLoaded', initializeApp);
ย </script>
ย<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a79177060badf08',t:'MTc2NDY2MDMzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
