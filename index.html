<!doctype html>
<html lang="kk">
ย<head>
ย <meta charset="UTF-8">
ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย <title>ะฅะฐะฝะบำฉะป ะผะตะบัะตะฑั - ะะตัััััะบัะตั ะาฏะนะตัั | ะะฐััั าะฐะทะฐาััะฐะฝ ะพะฑะปััั</title>
ย <meta name="description" content="ะฅะฐะฝะบำฉะป ะถะฐะปะฟั ะพััะฐ ะฑัะปัะผ ะฑะตัะตััะฝ ะผะตะบัะตะฑัะฝัาฃ ะผาฑาะฐะปัะผะดะตั ะผะตะฝ ะพาัััะปะฐั ะถะตัััััะบัะตััะฝ ัััะบะตั ะถาฏะนะตัั. ะัะดะฐะฝะดัา, ะพะฑะปััััา, ัะตัะฟัะฑะปะธะบะฐะปัา ะถะฐััััะฐั ัะตะนัะธะฝะณั.">
ย <meta name="keywords" content="ะฅะฐะฝะบำฉะป ะผะตะบัะตะฑั, าะฐัะฐัำฉะฑะต ะฐัะดะฐะฝั, ะะฐััั าะฐะทะฐาััะฐะฝ, ะถะตัััััะบัะตั, ะพะปะธะผะฟะธะฐะดะฐ, ะถะฐััั, ัะตะนัะธะฝะณ, ะผาฑาะฐะปัะผะดะตั, ะพาัััะปะฐั, ะฑัะปัะผ">
ย <meta name="author" content="ะฅะฐะฝะบำฉะป ะถะฐะปะฟั ะพััะฐ ะฑัะปัะผ ะฑะตัะตััะฝ ะผะตะบัะตะฑั">
ย <meta name="robots" content="index, follow">
ย <meta property="og:title" content="ะฅะฐะฝะบำฉะป ะผะตะบัะตะฑั - ะะตัััััะบัะตั ะาฏะนะตัั">
ย <meta property="og:description" content="ะาฑาะฐะปัะผะดะตั ะผะตะฝ ะพาัััะปะฐัะดัาฃ ะถะตัััััะบัะตััะฝ ัััะบะตั ะถำะฝะต ัะตะนัะธะฝะณ ะถาฏะนะตัั">
ย <meta property="og:type" content="website">
ย <link rel="canonical" href="https://yourschool.edu.kz">
ย <link rel="preconnect" href="https://fonts.googleapis.com">
ย <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
ย <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;600;700&amp;display=swap" rel="stylesheet">
ย <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>

ย ย <style>
ย ย /* ะกัะทะดัาฃ ัะพะปัา CSS ะบะพะดัาฃัะท ะพัั ะถะตัะดะต าะฐะปะฐะดั */
ย </style>
ย <style>@view-transition { navigation: auto; }</style>
ย</head>
ย<body>
ย <div class="app-container">ย ย<header class="header">
ย ย <div class="header-content">
ย ย ย<h1 id="siteTitle">๐ ะะตัััััะบัะตั ะถาฏะนะตัั</h1>
ย ย ย<p>ะาฑาะฐะปัะผะดะตั ะผะตะฝ ะพาัััะปะฐัะดัาฃ ะถะตัััััะบัะตััะฝ ัััะบะตั ะถำะฝะต ัะตะนัะธะฝะณ ะถาฏะนะตัั</p>
ย ย </div>
ย ย</header>ย ย<nav class="nav-tabs">
ย ย <div class="nav-tabs-content"><button class="tab-btn active" onclick="switchTab('home')"> <span class="tab-icon">๐ซ</span> <span>ะะฐััั ะฑะตั</span> </button> <button class="tab-btn" onclick="switchTab('teachers')"> <span class="tab-icon">๐จโ๐ซ</span> <span id="teacherTabTitle">ะาฑาะฐะปัะผะดะตั</span> </button> <button class="tab-btn" onclick="switchTab('students')"> <span class="tab-icon">๐จโ๐</span> <span id="studentTabTitle">ะาัััะปะฐั</span> </button> <button class="tab-btn" onclick="switchTab('rating')"> <span class="tab-icon">๐</span> <span>ะะตะนัะธะฝะณ</span> </button>
ย ย </div>
ย ย</nav>ย ย<main class="main-content">ย ย <div id="homeTab" class="tab-content active">
ย ย ย<div class="school-info-section">
ย ย ย <div class="school-header">
ย ย ย ย<div class="school-logo">
ย ย ย ย ๐ซ
ย ย ย ย</div>
ย ย ย ย<h1 class="school-name" id="schoolName">ะฅะฐะฝะบำฉะป ะถะฐะปะฟั ะพััะฐ ะฑัะปัะผ ะฑะตัะตััะฝ ะผะตะบัะตะฑั</h1>
ย ย ย ย<p class="school-tagline">ะัะปัะผ - ะฑะพะปะฐัะฐาาะฐ ะฑะฐััะฐะนััะฝ ะถะพะป</p>
ย ย ย </div>
ย ย ย <div class="school-details">
ย ย ย ย<div class="detail-card">
ย ย ย ย <div class="detail-icon">
ย ย ย ย ย๐
ย ย ย ย </div>
ย ย ย ย <p class="detail-label">ะะตะบะตะฝะถะฐะน</p>
ย ย ย ย <p class="detail-value" id="schoolAddress">ะะฐััั าะฐะทะฐาััะฐะฝ ะพะฑะปััั, าะฐัะฐัำฉะฑะต ะฐัะดะฐะฝั, ะััะฐะฝะดะพะน ะฐ.ะพ ะฅะฐะฝะบำฉะป ะฐััะปั, าาฑัะผะฐะฝาะฐะปะธะตะฒ 2ะ</p>
ย ย ย ย</div>
ย ย ย ย<div class="detail-card">
ย ย ย ย <div class="detail-icon">
ย ย ย ย ย๐
ย ย ย ย </div>
ย ย ย ย <p class="detail-label">ะะฐะนะปะฐะฝัั</p>
ย ย ย ย <p class="detail-value" id="schoolPhone">+7 (711-45)21-4-72</p>
ย ย ย ย</div>
ย ย ย ย<div class="detail-card">
ย ย ย ย <div class="detail-icon">
ย ย ย ย ยโ๏ธ
ย ย ย ย </div>
ย ย ย ย <p class="detail-label">ะญะปะตะบััะพะฝะดัา ะฟะพััะฐ</p>
ย ย ย ย <p class="detail-value"><a href="mailto:Hankul_sosh@mail.ru" style="color: #3182ce; text-decoration: none;">Hankul_sosh@mail.ru</a></p>
ย ย ย ย</div>
ย ย ย </div>
ย ย ย <div class="school-description">
ย ย ย ย<h3>ะะตะบัะตะฟ ัััะฐะปั</h3>
ย ย ย ย<p id="schoolDescription">ะัะทะดัาฃ ะผะตะบัะตะฟ 2023 ะถัะปั าาฑััะปาะฐะฝ. ะะตะบัะตะฟัะต ะถะพาะฐัั ะฑัะปัะบัั ะฟะตะดะฐะณะพะณัะฐั ะถาฑะผัั ัััะตะนะดั. ะาัััะปะฐััะผัะท าฏะฝะตะผั ะฐัะดะฐะฝะดัา ะถำะฝะต ะพะฑะปััััา ะพะปะธะผะฟะธะฐะดะฐะปะฐัะดะฐ ะถะตัััััะบัะตัะณะต ะถะตัะตะดั. ะะตะบัะตะฟ ะทะฐะผะฐะฝะฐัะธ ัะตัะฝะธะบะฐะปะฐัะผะตะฝ ะถะฐะฑะดัาัะฐะปาะฐะฝ, ัะฟะพัั ะทะฐะปะดะฐัั, ะบััะฐะฟัะฐะฝะฐ, ะบะพะผะฟัััะตัะปัะบ ััะฝัะฟัะฐั ะฑะฐั.</p>
ย ย ย </div>
ย ย ย <div class="quick-stats">
ย ย ย ย<div class="stat-box">
ย ย ย ย <p class="stat-number" id="teacherCount">0</p>
ย ย ย ย <p class="stat-label">ะาฑาะฐะปัะผะดะตั ะถะตัััััะณั</p>
ย ย ย ย</div>
ย ย ย ย<div class="stat-box">
ย ย ย ย <p class="stat-number" id="studentCount">0</p>
ย ย ย ย <p class="stat-label">ะาัััะปะฐั ะถะตัััััะณั</p>
ย ย ย ย</div>
ย ย ย ย<div class="stat-box">
ย ย ย ย <p class="stat-number" id="totalCount">0</p>
ย ย ย ย <p class="stat-label">ะะฐะปะฟั ะถะตัััััะบัะตั</p>
ย ย ย ย</div>
ย ย ย </div>
ย ย ย</div>
ย ย </div>ย ย <div id="teachersTab" class="tab-content">
ย ย ย<div class="limit-warning" id="teacherLimitWarning"><span class="limit-warning-icon">โ๏ธ</span> <span>ะัะบะตััั: ะะฐะบัะธะผะฐะปะดั 999 ะถะฐะทะฑะฐ ะปะธะผะธััะฝะต ะถะตัััาฃัะท. ะะฐาฃะฐ ะถะตัััััะบ าะพัั าฏััะฝ ะบะตะนะฑััะตัะปะตััะฝ ะถะพะนัาฃัะท.</span>
ย ย ย</div>
ย ย ย<div class="add-form-card">
ย ย ย <div class="form-header">
ย ย ย ย<h2>ะาฑาะฐะปัะผ ะถะตัััััะณัะฝ าะพัั</h2><button class="toggle-form-btn" onclick="toggleForm('teacher')"> <span id="teacherFormToggleText">+ ะะฐาฃะฐ ะถะตัััััะบ</span> </button>
ย ย ย </div>
ย ย ย <div class="form-content" id="teacherForm">
ย ย ย ย<form id="teacherAchievementForm" onsubmit="handleTeacherSubmit(event)">
ย ย ย ย <div class="form-grid">
ย ย ย ย ย<div class="form-group"><label for="teacherName">ะาฑาะฐะปัะผะฝัาฃ ะฐัั-ะถำฉะฝั *</label> <input type="text" id="teacherName" required placeholder="ะััะฐะปั: ะะนะณาฏะป ะกะตะนััะพะฒะฐ">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="teacherTitle">ะะตัััััะบ ะฐัะฐัั *</label> <input type="text" id="teacherTitle" required placeholder="ะััะฐะปั: าฎะทะดัะบ ะผาฑาะฐะปัะผ">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="teacherCategory">ะะฐัะตะณะพัะธั *</label> <select id="teacherCategory" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="academic">ะะบะฐะดะตะผะธัะปัา</option> <option value="sports">ะกะฟะพััััา</option> <option value="art">ำจะฝะตั</option> <option value="social">ำะปะตัะผะตัััะบ</option> <option value="other">ะะฐัาะฐ</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="teacherLevel">ะะฐััั ะดะตาฃะณะตะนั *</label> <select id="teacherLevel" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="district">ะัะดะฐะฝะดัา</option> <option value="regional">ะะฑะปััััา</option> <option value="national">ะะตัะฟัะฑะปะธะบะฐะปัา</option> <option value="international">ะฅะฐะปัาะฐัะฐะปัา</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="teacherPlace">ะะปาะฐะฝ ะพัะฝั *</label> <select id="teacherPlace" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="1">๐ฅ 1 ะพััะฝ</option> <option value="2">๐ฅ 2 ะพััะฝ</option> <option value="3">๐ฅ 3 ะพััะฝ</option> <option value="diploma">๐ ะัะฐะผะพัะฐ</option> <option value="certificate">๐ ะะปาัั ัะฐั</option> <option value="sertifikat">๐ ะกะตััะธัะธะบะฐั</option> <option value="nomination">๐ ะะพะผะธะฝะฐัะธั</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="teacherDate">ะาฏะฝั *</label> <input type="date" id="teacherDate" required>
ย ย ย ย ย</div>
ย ย ย ย </div>
ย ย ย ย <div class="form-group"><label for="teacherDescription">ะกะธะฟะฐััะฐะผะฐ (ะผัะฝะดะตััั ะตะผะตั)</label> <textarea id="teacherDescription" placeholder="ะะตัััััะบ ัััะฐะปั าะพััะผัะฐ ะฐาะฟะฐัะฐั..."></textarea>
ย ย ย ย </div>
ย ย ย ย <div class="form-actions"><button type="submit" class="submit-btn" id="teacherSubmitBtn"> <span class="loading-spinner" id="teacherSpinner"></span> <span id="teacherSubmitText">ะกะฐาัะฐั</span> </button> <button type="button" class="cancel-btn" onclick="cancelForm('teacher')">ะะพะปะดััะผะฐั</button>
ย ย ย ย </div>
ย ย ย ย</form>
ย ย ย </div>
ย ย ย</div>
ย ย ย<div class="achievements-header">
ย ย ย <h2>ะาฑาะฐะปัะผะดะตั ะถะตัััััะบัะตัั</h2>
ย ย ย <div class="filter-buttons"><button class="filter-btn active" onclick="filterAchievements('teacher', 'all')">ะะฐัะปัาั</button> <button class="filter-btn" onclick="filterAchievements('teacher', 'academic')">ะะบะฐะดะตะผะธัะปัา</button> <button class="filter-btn" onclick="filterAchievements('teacher', 'sports')">ะกะฟะพัั</button> <button class="filter-btn" onclick="filterAchievements('teacher', 'art')">ำจะฝะตั</button>
ย ย ย </div>
ย ย ย</div>
ย ย ย<div id="teacherAchievements" class="achievements-grid"></div>
ย ย </div>ย ย <div id="studentsTab" class="tab-content">
ย ย ย<div class="limit-warning" id="studentLimitWarning"><span class="limit-warning-icon">โ๏ธ</span> <span>ะัะบะตััั: ะะฐะบัะธะผะฐะปะดั 999 ะถะฐะทะฑะฐ ะปะธะผะธััะฝะต ะถะตัััาฃัะท. ะะฐาฃะฐ ะถะตัััััะบ าะพัั าฏััะฝ ะบะตะนะฑััะตัะปะตััะฝ ะถะพะนัาฃัะท.</span>
ย ย ย</div>
ย ย ย<div class="add-form-card">
ย ย ย <div class="form-header">
ย ย ย ย<h2>ะาััั ะถะตัััััะณัะฝ าะพัั</h2><button class="toggle-form-btn" onclick="toggleForm('student')"> <span id="studentFormToggleText">+ ะะฐาฃะฐ ะถะตัััััะบ</span> </button>
ย ย ย </div>
ย ย ย <div class="form-content" id="studentForm">
ย ย ย ย<form id="studentAchievementForm" onsubmit="handleStudentSubmit(event)">
ย ย ย ย <div class="form-grid">
ย ย ย ย ย<div class="form-group"><label for="studentName">ะาัััะฝัาฃ ะฐัั-ะถำฉะฝั *</label> <input type="text" id="studentName" required placeholder="ะััะฐะปั: ะัะปะฐะฝ ะาฑัะปะฐะฝะพะฒ">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentClass">ะกัะฝัะฟ *</label> <input type="text" id="studentClass" required placeholder="ะััะฐะปั: 8ะ">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentTeacher">ะะตัะตะบัั ะผาฑาะฐะปัะผ *</label> <input type="text" id="studentTeacher" required placeholder="ะััะฐะปั: ะะนะณาฏะป ะกะตะนััะพะฒะฐ">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentTitle">ะะตัััััะบ ะฐัะฐัั *</label> <input type="text" id="studentTitle" required placeholder="ะััะฐะปั: ะะปะธะผะฟะธะฐะดะฐ ะถะตาฃัะผะฟะฐะทั">
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentCategory">ะะฐัะตะณะพัะธั *</label> <select id="studentCategory" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="academic">ะะบะฐะดะตะผะธัะปัา</option> <option value="sports">ะกะฟะพััััา</option> <option value="art">ำจะฝะตั</option> <option value="social">ำะปะตัะผะตัััะบ</option> <option value="other">ะะฐัาะฐ</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentLevel">ะะฐััั ะดะตาฃะณะตะนั *</label> <select id="studentLevel" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="district">ะัะดะฐะฝะดัา</option> <option value="regional">ะะฑะปััััา</option> <option value="national">ะะตัะฟัะฑะปะธะบะฐะปัา</option> <option value="international">ะฅะฐะปัาะฐัะฐะปัา</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentPlace">ะะปาะฐะฝ ะพัะฝั *</label> <select id="studentPlace" required> <option value="">ะขะฐาฃะดะฐาฃัะท</option> <option value="1">๐ฅ 1 ะพััะฝ</option> <option value="2">๐ฅ 2 ะพััะฝ</option> <option value="3">๐ฅ 3 ะพััะฝ</option> <option value="diploma">๐ ะัะฐะผะพัะฐ</option> <option value="certificate">๐ ะะปาัั ัะฐั</option> <option value="sertifikat">๐ ะกะตััะธัะธะบะฐั</option> <option value="nomination">๐ ะะพะผะธะฝะฐัะธั</option> </select>
ย ย ย ย ย</div>
ย ย ย ย ย<div class="form-group"><label for="studentDate">ะาฏะฝั *</label> <input type="date" id="studentDate" required>
ย ย ย ย ย</div>
ย ย ย ย </div>
ย ย ย ย <div class="form-group"><label for="studentDescription">ะกะธะฟะฐััะฐะผะฐ (ะผัะฝะดะตััั ะตะผะตั)</label> <textarea id="studentDescription" placeholder="ะะตัััััะบ ัััะฐะปั าะพััะผัะฐ ะฐาะฟะฐัะฐั..."></textarea>
ย ย ย ย </div>
ย ย ย ย <div class="form-actions"><button type="submit" class="submit-btn" id="studentSubmitBtn"> <span class="loading-spinner" id="studentSpinner"></span> <span id="studentSubmitText">ะกะฐาัะฐั</span> </button> <button type="button" class="cancel-btn" onclick="cancelForm('student')">ะะพะปะดััะผะฐั</button>
ย ย ย ย </div>
ย ย ย ย</form>
ย ย ย </div>
ย ย ย</div>
ย ย ย<div class="achievements-header">
ย ย ย <h2>ะาัััะปะฐั ะถะตัััััะบัะตัั</h2>
ย ย ย <div class="filter-buttons"><button class="filter-btn active" onclick="filterAchievements('student', 'all')">ะะฐัะปัาั</button> <button class="filter-btn" onclick="filterAchievements('student', 'academic')">ะะบะฐะดะตะผะธัะปัา</button> <button class="filter-btn" onclick="filterAchievements('student', 'sports')">ะกะฟะพัั</button> <button class="filter-btn" onclick="filterAchievements('student', 'art')">ำจะฝะตั</button>
ย ย ย </div>
ย ย ย</div>
ย ย ย<div id="studentAchievements" class="achievements-grid"></div>
ย ย </div>ย ย <div id="ratingTab" class="tab-content">
ย ย ย<div class="rating-section">
ย ย ย <div class="rating-header">
ย ย ย ย<h2>ะะตัััััะบัะตั ัะตะนัะธะฝะณั</h2>
ย ย ย ย<div class="rating-toggle"><button class="rating-toggle-btn active" onclick="switchRating('teachers')">ะาฑาะฐะปัะผะดะตั</button> <button class="rating-toggle-btn" onclick="switchRating('students')">ะาัััะปะฐั</button> <button class="rating-toggle-btn" onclick="switchRating('classes')">ะกัะฝัะฟัะฐั</button>
ย ย ย ย</div>
ย ย ย </div>
ย ย ย <div id="teachersRating" class="rating-list"></div>
ย ย ย <div id="studentsRating" class="rating-list" style="display: none;"></div>
ย ย ย <div id="classesRating" class="rating-list" style="display: none;"></div>
ย ย ย</div>
ย ย </div>
ย ย</main>ย ย<div id="toast" class="toast"><span class="toast-icon" id="toastIcon"></span> <span class="toast-message" id="toastMessage"></span>
ย ย</div>
ย </div>
ย <script>
    // Local Storage าฏััะฝ ะฐะนะฝัะผะฐะปั
    const STORAGE_KEY = 'hancol_achievements';
    const MAX_LIMIT = 999;
    
    // Config ะถำะฝะต State
    let allAchievements = [];
    let currentTab = 'home';
    let currentRating = 'teachers';
    let currentTeacherFilter = 'all';
    let currentStudentFilter = 'all';
    
    // ----------------------------------------------------------------------
    // 1. Local Storage-ะฟะตะฝ ะาฑะผัั (CRUD)
    // ----------------------------------------------------------------------
    
    function loadAchievements() {
        try {
            const storedData = localStorage.getItem(STORAGE_KEY);
            allAchievements = storedData ? JSON.parse(storedData) : [];
        } catch (e) {
            console.error("Local storage-ัะฐะฝ ะดะตัะตะบัะตัะดั ะถาฏะบัะตั าะฐัะตัั:", e);
            allAchievements = [];
        }
    }

    function saveAchievements() {
        try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(allAchievements));
        } catch (e) {
            console.error("Local storage-าะฐ ะดะตัะตะบัะตัะดั ัะฐาัะฐั าะฐัะตัั:", e);
            showToast('าะฐัะต: ะะตัะตะบัะตัะดั ัะฐาัะฐั ะผาฏะผะบัะฝ ะฑะพะปะผะฐะดั (ะััะตะปัะบ ัะพะปั ะฑะพะปัั ะผาฏะผะบัะฝ)', 'error');
            return false;
        }
        return true;
    }

    async function createAchievement(achievement) {
        if (allAchievements.length >= MAX_LIMIT) return { isOk: false };
        
        // __backendId ะพัะฝัะฝะฐ ัะฐาัั ะฝะตะณัะทัะฝะดะต ะฑััะตะณะตะน ID ะฑะตัะตะผัะท
        const newAchievement = { 
            ...achievement, 
            __backendId: Date.now().toString() + Math.random().toString(36).substring(2, 9)
        };
        allAchievements.push(newAchievement);
        
        if (saveAchievements()) {
            updateUI();
            return { isOk: true };
        }
        return { isOk: false };
    }

    async function deleteAchievement(backendId) {
        const initialLength = allAchievements.length;
        allAchievements = allAchievements.filter(a => a.__backendId !== backendId);
        
        if (saveAchievements() && allAchievements.length < initialLength) {
            updateUI();
            return { isOk: true };
        }
        return { isOk: false };
    }

    // ----------------------------------------------------------------------
    // 2. UI ะำะฝะต ะะพะณะธะบะฐ
    // ----------------------------------------------------------------------

    function initializeApp() {
        loadAchievements(); // ะะตัะตะบัะตัะดั ะถาฏะบัะตั
        updateUI(); // ะะฝัะตััะตะนััั ะถะฐาฃะฐััั
        
        // ะาฏะฝะดั ะฑาฏะณัะฝะณั ะบาฏะฝะผะตะฝ ัะพะปัััั
        const today = new Date().toISOString().split('T')[0];
        const teacherDateEl = document.getElementById('teacherDate');
        const studentDateEl = document.getElementById('studentDate');
        if (teacherDateEl) teacherDateEl.value = today;
        if (studentDateEl) studentDateEl.value = today;
    }
    
    function updateUI() {
        checkLimits();
        updateStats();
        renderAchievements('teacher');
        renderAchievements('student');
        renderRating(currentRating);
    }
    
    function updateStats() {
        const teacherAchievements = allAchievements.filter(a => a.type === 'teacher');
        const studentAchievements = allAchievements.filter(a => a.type === 'student');
        const totalCount = allAchievements.length;
        
        const teacherCountEl = document.getElementById('teacherCount');
        const studentCountEl = document.getElementById('studentCount');
        const totalCountEl = document.getElementById('totalCount');
        
        if (teacherCountEl) teacherCountEl.textContent = teacherAchievements.length;
        if (studentCountEl) studentCountEl.textContent = studentAchievements.length;
        if (totalCountEl) totalCountEl.textContent = totalCount;
    }

    function checkLimits() {
        const teacherWarning = document.getElementById('teacherLimitWarning');
        const studentWarning = document.getElementById('studentLimitWarning');
        
        // ะะธะผะธั ัะตะบ ะปะพะบะฐะปัะดั ะตัะบะต าะฐััััั, ะฑััะฐา ะฑะฐััะฐะฟาั ะปะธะผะธััั ัะฐาัะฐั
        if (allAchievements.length >= MAX_LIMIT) {
            if (teacherWarning) teacherWarning.classList.add('show');
            if (studentWarning) studentWarning.classList.add('show');
        } else {
            if (teacherWarning) teacherWarning.classList.remove('show');
            if (studentWarning) studentWarning.classList.remove('show');
        }
    }

    // Tab Management
    function switchTab(tab) {
        currentTab = tab;
        
        document.querySelectorAll('.nav-tabs .tab-btn').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.main-content .tab-content').forEach(content => content.classList.remove('active'));
        
        // Event target-ัั ัะฐะฑัะดั ะดาฑััััะฐั
        let clickedButton = event.target.closest('.tab-btn');
        if (clickedButton) clickedButton.classList.add('active');

        if (tab === 'home') {
            document.getElementById('homeTab').classList.add('active');
            updateStats();
        } else if (tab === 'teachers') {
            document.getElementById('teachersTab').classList.add('active');
            renderAchievements('teacher');
        } else if (tab === 'students') {
            document.getElementById('studentsTab').classList.add('active');
            renderAchievements('student');
        } else if (tab === 'rating') {
            document.getElementById('ratingTab').classList.add('active');
            renderRating(currentRating);
        }
    }

    // Form Management (ำฉะทะณะตัััััะท)
    function toggleForm(type) {
        const form = document.getElementById(`${type}Form`);
        const toggleText = document.getElementById(`${type}FormToggleText`);
        
        if (form.classList.contains('show')) {
            form.classList.remove('show');
            toggleText.textContent = '+ ะะฐาฃะฐ ะถะตัััััะบ';
        } else {
            form.classList.add('show');
            toggleText.textContent = 'โ ะะฐะฑั';
        }
    }

    function cancelForm(type) {
        document.getElementById(`${type}AchievementForm`).reset();
        // Reset date value after reset
        const today = new Date().toISOString().split('T')[0];
        document.getElementById(`${type}Date`).value = today;
        toggleForm(type);
    }

    // Teacher Form Submit
    async function handleTeacherSubmit(event) {
        event.preventDefault();
        
        if (allAchievements.length >= MAX_LIMIT) {
            showToast('ะะฐะบัะธะผะฐะปะดั ะปะธะผะธัะบะต ะถะตัััาฃัะท (999)', 'error');
            return;
        }
        
        const submitBtn = document.getElementById('teacherSubmitBtn');
        const spinner = document.getElementById('teacherSpinner');
        const submitText = document.getElementById('teacherSubmitText');
        
        submitBtn.disabled = true;
        spinner.style.display = 'inline-block';
        submitText.textContent = 'ะกะฐาัะฐะปัะดะฐ...';
        
        const achievement = {
            type: 'teacher',
            name: document.getElementById('teacherName').value.trim(),
            title: document.getElementById('teacherTitle').value.trim(),
            category: document.getElementById('teacherCategory').value,
            level: document.getElementById('teacherLevel').value,
            place: document.getElementById('teacherPlace').value,
            date: document.getElementById('teacherDate').value,
            description: document.getElementById('teacherDescription').value.trim() || '',
            className: '', // ะาฑาะฐะปัะผ าฏััะฝ ะฑะพั
            teacherName: '', // ะาฑาะฐะปัะผ าฏััะฝ ะฑะพั
            createdAt: new Date().toISOString()
        };
        
        const result = await createAchievement(achievement); // dataSdk.create ะพัะฝัะฝะฐ createAchievement
        
        submitBtn.disabled = false;
        spinner.style.display = 'none';
        submitText.textContent = 'ะกะฐาัะฐั';
        
        if (result.isOk) {
            showToast('ะะตัััััะบ ัำััั าะพััะปะดั!', 'success');
            document.getElementById('teacherAchievementForm').reset();
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('teacherDate').value = today;
            cancelForm('teacher');
        } else {
            showToast('าะฐัะต: ะะตัััััะบ าะพััะปะผะฐะดั', 'error');
        }
    }

    // Student Form Submit
    async function handleStudentSubmit(event) {
        event.preventDefault();
        
        if (allAchievements.length >= MAX_LIMIT) {
            showToast('ะะฐะบัะธะผะฐะปะดั ะปะธะผะธัะบะต ะถะตัััาฃัะท (999)', 'error');
            return;
        }
        
        const submitBtn = document.getElementById('studentSubmitBtn');
        const spinner = document.getElementById('studentSpinner');
        const submitText = document.getElementById('studentSubmitText');
        
        submitBtn.disabled = true;
        spinner.style.display = 'inline-block';
        submitText.textContent = 'ะกะฐาัะฐะปัะดะฐ...';
        
        const achievement = {
            type: 'student',
            name: document.getElementById('studentName').value.trim(),
            title: document.getElementById('studentTitle').value.trim(),
            category: document.getElementById('studentCategory').value,
            level: document.getElementById('studentLevel').value,
            place: document.getElementById('studentPlace').value,
            date: document.getElementById('studentDate').value,
            description: document.getElementById('studentDescription').value.trim() || '',
            className: document.getElementById('studentClass').value.trim(),
            teacherName: document.getElementById('studentTeacher').value.trim(),
            createdAt: new Date().toISOString()
        };
        
        const result = await createAchievement(achievement); // dataSdk.create ะพัะฝัะฝะฐ createAchievement
        
        submitBtn.disabled = false;
        spinner.style.display = 'none';
        submitText.textContent = 'ะกะฐาัะฐั';
        
        if (result.isOk) {
            showToast('ะะตัััััะบ ัำััั าะพััะปะดั!', 'success');
            document.getElementById('studentAchievementForm').reset();
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('studentDate').value = today;
            cancelForm('student');
        } else {
            showToast('าะฐัะต: ะะตัััััะบ าะพััะปะผะฐะดั', 'error');
        }
    }

    // Delete Achievement
    // ะาฑะป ััะฝะบัะธั ะตะฝะดั ะถะพาะฐััะดะฐาั deleteAchievement(backendId) ััะฝะบัะธัััะฝ ัะฐาััะฐะดั
    window.deleteAchievement = async function(backendId) { // ะะปะพะฑะฐะปะดั าะพะปะถะตััะผะดั ะตัั าฏััะฝ window-าะฐ าะพััะปะดั
        const result = await deleteAchievement(backendId);
        
        if (result.isOk) {
            showToast('ะะตัััััะบ ะถะพะนัะปะดั', 'success');
        } else {
            showToast('าะฐัะต: ะะตัััััะบ ะถะพะนัะปะผะฐะดั', 'error');
        }
    }


    // Filter Achievements (ำฉะทะณะตัััััะท)
    window.filterAchievements = function(type, category) { // ะะปะพะฑะฐะปะดั าะพะปะถะตััะผะดั ะตัั าฏััะฝ window-าะฐ าะพััะปะดั
        if (type === 'teacher') {
            currentTeacherFilter = category;
        } else {
            currentStudentFilter = category;
        }
        
        // ะะฝะพะฟะบะฐะฝั ะดาฑััั ัะฐาฃะดะฐั าฏััะฝ
        const tabEl = document.getElementById(type === 'teacher' ? 'teachersTab' : 'studentsTab');
        const filterButtons = tabEl.querySelector('.filter-buttons').querySelectorAll('.filter-btn');
        
        filterButtons.forEach(btn => btn.classList.remove('active'));
        
        // ะขะตะบัะตัั: ะตะณะตั ััะฝะบัะธัะฝั ะฑะฐัััะผะฐะดะฐะฝ ัะฐาัััะฐา, event.target าะพะปะดะฐะฝะฐะผัะท
        if (event && event.target.classList.contains('filter-btn')) {
            event.target.classList.add('active');
        } else {
             // ะะณะตั ััะบะตะปะตะน ัะฐาัััะฐา, 'all' ะฑะฐัััะผะฐััะฝ ะฑะตะปัะตะฝะดััั
             tabEl.querySelector(`.filter-btn[onclick*="'${category}'"]`).classList.add('active');
        }
        
        renderAchievements(type);
    }

    // Calculate Points based on level (ำฉะทะณะตัััััะท)
    function calculatePoints(achievement) {
        let points = 0;
        
        // ะะตาฃะณะตะน ะฑะพะนัะฝัะฐ าฑะฟะฐะน
        if (achievement.level === 'national') {
            points = 3;
        } else if (achievement.level === 'regional') {
            points = 2;
        } else if (achievement.level === 'district') {
            points = 1;
        }
        
        // ะััะฝาะฐ ะฑะฐะนะปะฐะฝัััั าะพััะผัะฐ าฑะฟะฐะน ะตะฝะณัะทัะณะต ะฑะพะปะฐะดั, ะฑััะฐา าะฐะทััะณั ะปะพะณะธะบะฐ ัะฐาัะฐะปะดั.
        // ะะณะตั 1, 2, 3 ะพััะฝ ะฑะพะปัะฐ, าฑะฟะฐะนะดั ะบำฉะฑะตะนัะตััะฝ ะปะพะณะธะบะฐะฝั าะพััาะฐ ะฑะพะปะฐะดั:
        // if (achievement.place === '1') points *= 2;
        // else if (achievement.place === '2') points *= 1.5;
        
        return points;
    }

    // Render Achievements (ำฉะทะณะตัััััะท)
    function renderAchievements(type) {
        const container = document.getElementById(`${type}Achievements`);
        const filter = type === 'teacher' ? currentTeacherFilter : currentStudentFilter;
        
        let filtered = allAchievements.filter(a => a.type === type);
        if (filter !== 'all') {
            filtered = filtered.filter(a => a.category === filter);
        }
        
        // Sort by date (newest first)
        filtered.sort((a, b) => new Date(b.date) - new Date(a.date));
        
        if (filtered.length === 0) {
            container.innerHTML = `
                <div class="empty-state">
                    <div class="empty-state-icon">๐</div>
                    <h3>ะะตัััััะบัะตั ะถะพา</h3>
                    <p>ะะฐาฃะฐ ะถะตัััััะบ าะพัั าฏััะฝ ะถะพาะฐััะดะฐาั ัาฏะนะผะตะฝั ะฑะฐััาฃัะท</p>
                </div>
            `;
            return;
        }
        
        container.innerHTML = filtered.map(achievement => `
            <div class="achievement-card">
                <div class="achievement-header">
                    <span class="achievement-category category-${achievement.category}">
                        ${getCategoryName(achievement.category)}
                    </span>
                </div>
                <h3 class="achievement-title">${achievement.title}</h3>
                <p class="achievement-name">๐ค ${achievement.name}</p>
                ${achievement.level ? `<p class="achievement-name">๐ ${getLevelName(achievement.level)} (${calculatePoints(achievement)} าฑะฟะฐะน)</p>` : ''}
                ${achievement.place ? `<p class="achievement-name">${getPlaceName(achievement.place)}</p>` : ''}
                ${achievement.teacherName ? `<p class="achievement-name">๐จโ๐ซ ะะตัะตะบัั: ${achievement.teacherName}</p>` : ''}
                ${achievement.description ? `<p class="achievement-description">${achievement.description}</p>` : ''}
                <div class="achievement-footer">
                    <span class="achievement-date">๐ ${formatDate(achievement.date)}</span>
                    ${achievement.className ? `<span class="achievement-class">๐ ${achievement.className}</span>` : ''}
                </div>
                <button class="delete-btn" onclick="deleteAchievement('${achievement.__backendId}')">
                    ๐๏ธ ะะพั
                </button>
            </div>
        `).join('');
    }

    // Rating Management (ำฉะทะณะตัััััะท, ะฑััะฐา ะณะปะพะฑะฐะปะดัา ัะฐาัััะดั าะฐะผัะฐะผะฐััะท ะตััั)
    window.switchRating = function(type) {
        currentRating = type;
        
        const toggleButtons = document.querySelectorAll('.rating-toggle-btn');
        toggleButtons.forEach(btn => btn.classList.remove('active'));
        
        // Event target-ัั ะดาฑััั ัะฐาฃะดะฐั
        let clickedButton = event.target.closest('.rating-toggle-btn');
        if (clickedButton) clickedButton.classList.add('active');

        document.getElementById('teachersRating').style.display = 'none';
        document.getElementById('studentsRating').style.display = 'none';
        document.getElementById('classesRating').style.display = 'none';
        
        document.getElementById(`${type}Rating`).style.display = 'flex'; // block ะพัะฝัะฝะฐ flex าะพะปะดะฐะฝัะปะดั
        renderRating(type);
    }

    function renderRating(type) {
        const container = document.getElementById(`${type}Rating`);
        
        if (type === 'teachers') {
            renderTeachersRating(container);
        } else if (type === 'students') {
            renderStudentsRating(container);
        } else if (type === 'classes') {
            renderClassesRating(container);
        }
    }

    function renderTeachersRating(container) {
        const teachers = {};
        
        allAchievements.filter(a => a.type === 'teacher').forEach(achievement => {
            const nameKey = achievement.name.toUpperCase(); // ะัั-ะถำฉะฝัะฝ ัะตะณะธัััะณะต าะฐัะฐะผะฐะน ัะพะฟัะฐั
            if (!teachers[nameKey]) {
                teachers[nameKey] = {
                    name: achievement.name,
                    count: 0,
                    points: 0
                };
            }
            teachers[nameKey].count++;
            teachers[nameKey].points += calculatePoints(achievement);
        });
        
        const sorted = Object.values(teachers).sort((a, b) => b.points - a.points);
        
        if (sorted.length === 0) {
            container.innerHTML = `
                <div class="empty-state">
                    <div class="empty-state-icon">๐</div>
                    <h3>ะะตะนัะธะฝะณ ะถะพา</h3>
                    <p>ะะตัััััะบัะตั าะพััะปาะฐะฝะฝะฐะฝ ะบะตะนัะฝ ัะตะนัะธะฝะณ ะบำฉััะฝะตะดั</p>
                </div>
            `;
            return;
        }
        
        container.innerHTML = sorted.map((teacher, index) => `
            <div class="rating-item">
                <div class="rating-rank">${index + 1}</div>
                <div class="rating-info">
                    <h3 class="rating-name">${teacher.name}</h3>
                    <p class="rating-details">${teacher.count} ะถะตัััััะบ</p>
                </div>
                <div class="rating-score">
                    <p class="rating-points">${teacher.points}</p>
                    <p class="rating-label">าฑะฟะฐะน</p>
                </div>
            </div>
        `).join('');
    }

    function renderStudentsRating(container) {
        const students = {};
        
        allAchievements.filter(a => a.type === 'student').forEach(achievement => {
            const nameKey = achievement.name.toUpperCase();
            if (!students[nameKey]) {
                students[nameKey] = {
                    name: achievement.name,
                    className: achievement.className,
                    count: 0,
                    points: 0
                };
            }
            students[nameKey].count++;
            students[nameKey].points += calculatePoints(achievement);
        });
        
        const sorted = Object.values(students).sort((a, b) => b.points - a.points);
        
        if (sorted.length === 0) {
            container.innerHTML = `
                <div class="empty-state" style="color: #2d3748;">
                    <div class="empty-state-icon">๐</div>
                    <h3 style="color: #2d3748;">ะะตะนัะธะฝะณ ะถะพา</h3>
                    <p style="color: #4a5568;">ะะตัััััะบัะตั าะพััะปาะฐะฝะฝะฐะฝ ะบะตะนัะฝ ัะตะนัะธะฝะณ ะบำฉััะฝะตะดั</p>
                </div>
            `;
            return;
        }
        
        container.innerHTML = sorted.map((student, index) => `
            <div class="rating-item">
                <div class="rating-rank">${index + 1}</div>
                <div class="rating-info">
                    <h3 class="rating-name">${student.name}</h3>
                    <p class="rating-details">${student.className} โข ${student.count} ะถะตัััััะบ</p>
                </div>
                <div class="rating-score">
                    <p class="rating-points">${student.points}</p>
                    <p class="rating-label">าฑะฟะฐะน</p>
                </div>
            </div>
        `).join('');
    }

    function renderClassesRating(container) {
        const classes = {};
        
        allAchievements.filter(a => a.type === 'student' && a.className).forEach(achievement => {
            const classKey = achievement.className.toUpperCase();
            if (!classes[classKey]) {
                classes[classKey] = {
                    className: achievement.className,
                    count: 0,
                    points: 0,
                    students: new Set()
                };
            }
            classes[classKey].count++;
            classes[classKey].points += calculatePoints(achievement);
            classes[classKey].students.add(achievement.name);
        });
        
        const sorted = Object.values(classes).sort((a, b) => b.points - a.points);
        
        if (sorted.length === 0) {
            container.innerHTML = `
                <div class="empty-state">
                    <div class="empty-state-icon">๐</div>
                    <h3>ะะตะนัะธะฝะณ ะถะพา</h3>
                    <p>ะะตัััััะบัะตั าะพััะปาะฐะฝะฝะฐะฝ ะบะตะนัะฝ ัะตะนัะธะฝะณ ะบำฉััะฝะตะดั</p>
                </div>
            `;
            return;
        }
        
        container.innerHTML = sorted.map((classData, index) => `
            <div class="rating-item">
                <div class="rating-rank">${index + 1}</div>
                <div class="rating-info">
                    <h3 class="rating-name">${classData.className} ััะฝัะฟ</h3>
                    <p class="rating-details">${classData.students.size} ะพาััั โข ${classData.count} ะถะตัััััะบ</p>
                </div>
                <div class="rating-score">
                    <p class="rating-points">${classData.points}</p>
                    <p class="rating-label">าฑะฟะฐะน</p>
                </div>
            </div>
        `).join('');
    }

    // Utility Functions (าะฐัะตะปะตั ะดาฑััััะฐะปะดั)
    function getCategoryName(category) {
        const names = {
            academic: 'ะะบะฐะดะตะผะธัะปัา',
            sports: 'ะกะฟะพััััา',
            art: 'ำจะฝะตั',
            social: 'ำะปะตัะผะตัััะบ',
            other: 'ะะฐัาะฐ'
        };
        return names[category] || category;
    }

    function getLevelName(level) {
        const names = {
            district: 'ะัะดะฐะฝะดัา',
            regional: 'ะะฑะปััััา',
            national: 'ะะตัะฟัะฑะปะธะบะฐะปัา',
            international: 'ะฅะฐะปัาะฐัะฐะปัา'
        };
        return names[level] || level;
    }

    function getPlaceName(place) {
        const names = {
            '1': '๐ฅ 1 ะพััะฝ',
            '2': '๐ฅ 2 ะพััะฝ',
            '3': '๐ฅ 3 ะพััะฝ',
            'diploma': '๐ ะัะฐะผะพัะฐ',
            'certificate': '๐ ะะปาัั ัะฐั',
            'sertifikat': '๐ ะกะตััะธัะธะบะฐั',
            'nomination': '๐ ะะพะผะธะฝะฐัะธั' // ะะผะปะต าะฐัะตัั ะดาฑััััะฐะปะดั
        };
        return names[place] || place;
    }

    function formatDate(dateString) {
        const date = new Date(dateString);
        const months = ['าะฐาฃ', 'ะฐาะฟ', 'ะฝะฐั', 'ัำั', 'ะผะฐะผ', 'ะผะฐั', 'ััะป', 'ัะฐะผ', 'าัั', 'าะฐะท', 'าะฐั', 'ะถะตะป']; // 'าัั' (าััะบาฏะนะตะบ) ะดาฑััััะฐะปะดั
        return `${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;
    }

    function showToast(message, type) {
        const toast = document.getElementById('toast');
        const icon = document.getElementById('toastIcon');
        const messageEl = document.getElementById('toastMessage');
        
        toast.className = `toast ${type}`;
        icon.textContent = type === 'success' ? 'โ' : 'โ';
        messageEl.textContent = message;
        
        toast.classList.add('show');
        
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }

    // Initialize App
    document.addEventListener('DOMContentLoaded', initializeApp);
ย </script>
ย<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a79177060badf08',t:'MTc2NDY2MDMzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
